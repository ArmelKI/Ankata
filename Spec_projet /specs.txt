ANKATA APP PASSAGERS SpÃ©cifications Techniques
Production-Ready
Version: 3.0 FINAL
Date: 23 fÃ©vrier 2026
Auteur: Axiane Agency Technical Team
Objectif: Documentation complÃ¨te vibe coding avec donnÃ©es
RÃ‰ELLES 2026

Table des MatiÃ¨res
1. Vision Produit App Passagers
2. Architecture SystÃ¨me SimplifiÃ©e
3. SchÃ©ma Base de DonnÃ©es
4. Compagnies Partenaires (DonnÃ©es RÃ©elles 2026)
SOTRACO (Transport Urbain)
TSR Transport
STAF Transport
RAHIMO Transports
RAKIETA Transport
TCV Transport
5. Authentification WhatsApp
6. IntÃ©gration Paiement Mobile Money
7. SystÃ¨me Notation VÃ©rifiÃ©e
8. SpÃ©cifications API Backend
9. Application Mobile Flutter
10. Seed Database Production
11. Roadmap MVP

1. Vision Produit App Passagers
1.1 ProblÃ¨me RÃ©solu
Pour les passagers au Burkina Faso :

â€¢ ProblÃ¨me monnaie : SOTRACO 150 FCFA exactement requis,
receveurs n'ont jamais monnaie
â€¢ Overbooking : Compagnies vendent 75-80 tickets pour 70
places, passagers refusÃ©s Ã  la montÃ©e
â€¢ Pas de comparaison : Ouaga-Bobo entre 4500-7000 FCFA selon
compagnie, impossible comparer
â€¢ RÃ©servations archaÃ¯ques : Appels tÃ©lÃ©phone, aucune
confirmation, paiement obligatoire guichet
â€¢ Absence qualitÃ© service : Impossible savoir quelle compagnie
fiable, pas de notation
Solution ANKATA :

Application mobile permettant de rechercher, comparer, rÃ©server
et payer tous les trajets bus au Burkina Faso depuis son smartphone
avec Orange Money/Moov Money.

1.2 DiffÃ©renciation Produit
ANKATA APP (B2C Passagers) â‰  ANKATA COMPAGNIES (B2B
Admin)

Aspect
App Passagers
Utilisateurs Voyageurs grand public
RÃ©servation facile +
ProblÃ¨me
paiement
Recherche, booking,
Features
notation
Commission 2% +
Business
freemium

Tech

Online-first, UX simple

App Compagnies
Directeurs, receveurs

ConformitÃ© DGI + gestion
Facturation, offline,
analytics
SaaS subscription
Offline-first, admin
complex

Note importante : Ce document concerne uniquement ANKATA APP
PASSAGERS. Pas de DGI, pas de facturation Ã©lectronique, pas de
gestion compagnie.

2. Architecture SystÃ¨me
SimplifiÃ©e
2.1 Stack Technologique

Couche

Technologie

Mobile

Flutter 3.19+

Backend

Node.js 20 LTS

Database PostgreSQL 16
Hosting

Supabase

Cache

Redis 7

Auth

WhatsApp OTP

Paiement

Orange Money +
Moov

Maps

Mapbox GL

Notif

FCM + APNs

Justification
Cross-platform iOS+Android,
Material Design
Async I/O, TypeScript,
Express.js
ACID transactions, JSONB,
PostGIS geospatial
Postgres managÃ© + Auth +
Storage + Realtime
Queue paiements async,
sessions
Gratuit, 95% BurkinabÃ¨ ont
WhatsApp
85% Orange + 15% Moov
parts marchÃ©
Geoloc lignes/arrÃªts, gratuit
<50k/mois
Push iOS/Android + WhatsApp
backup

2.2 Architecture SystÃ¨me
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ANKATA APP ECOSYSTEM â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ PASSAGERS â”‚ â”‚
â”‚ â”‚ Flutter App â”‚ â”‚
â”‚ â”‚ iOS+Android â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”‚ HTTPS/WSS â”‚
â”‚â–¼â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ API Gateway â”‚ â”‚
â”‚ â”‚ Node.js + Redisâ”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚â”‚â”‚

â”‚â–¼â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ PostgreSQL 16 â”‚ â”‚
â”‚ â”‚ (Supabase) â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚â”‚â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”˜
â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”
â–¼â–¼â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚WhatsAppâ”‚ â”‚Orange â”‚ â”‚FCM/APNsâ”‚
â”‚OTP â”‚ â”‚Money â”‚ â”‚Push â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜

2.3 Validation Tickets (SANS QR CODE)
MÃ©thode simplifiÃ©e :

1. Passager rÃ©serve via app â†’ ReÃ§oit code booking 8 chiffres (ex:
12345678)
2. Notification WhatsApp + SMS : "Votre billet STAF Ouaga-Bobo
14h. Code: 12345678"
3. Ã€ la montÃ©e : Passager donne code verbal au receveur
4. Receveur vÃ©rifie sur liste papier ou tablette (liste passagers du
jour)
5. Validation manuelle âœ…
Avantages :

Pas besoin scanner QR (receveurs n'ont pas toujours
smartphone)
Code simple mÃ©morisable ou SMS
Liste passagers PDF envoyÃ©e chaque matin aux receveurs

3. SchÃ©ma Base de DonnÃ©es
3.1 Tables Principales
Table: companies
CREATE TABLE companies (
id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
name VARCHAR(100) NOT NULL,
slug VARCHAR(100) UNIQUE NOT NULL,
description TEXT,
-- IdentitÃ© visuelle
logo_url TEXT,
primary_color VARCHAR(7), -- ex: #00A859
secondary_color VARCHAR(7),
-- Contact
phone VARCHAR(20),
whatsapp VARCHAR(20),
email VARCHAR(100),
facebook_url TEXT,
website_url TEXT,
-- Adresses gares
headquarters_address TEXT,
ouaga_station_address TEXT,
bobo_station_address TEXT,
-- MÃ©tadonnÃ©es
is_active BOOLEAN DEFAULT true,
rating_average DECIMAL(2,1) DEFAULT 0,
total_ratings INTEGER DEFAULT 0,
created_at TIMESTAMP DEFAULT NOW(),
updated_at TIMESTAMP DEFAULT NOW()
);

Table: lines
CREATE TABLE lines (
id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
company_id UUID REFERENCES companies(id),
-- Identification
line_code VARCHAR(10), -- ex: L2B pour SOTRACO
line_name VARCHAR(100),
-- Trajet
origin_city VARCHAR(100),
destination_city VARCHAR(100),
distance_km INTEGER,
duration_minutes INTEGER,
-- Type
line_type VARCHAR(20), -- 'urban', 'interurban', 'international'
-- Tarification
base_price INTEGER, -- FCFA
student_price INTEGER,
child_price INTEGER,
luggage_price_per_kg INTEGER,
-- MÃ©tadonnÃ©es
is_active BOOLEAN DEFAULT true,
created_at TIMESTAMP DEFAULT NOW()
);

Table: stops
CREATE TABLE stops (
id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
line_id UUID REFERENCES lines(id),
name VARCHAR(200),
stop_order INTEGER,
-- GÃ©olocalisation
latitude DECIMAL(10, 8),
longitude DECIMAL(11, 8),

-- Timing
arrival_offset_minutes INTEGER, -- depuis dÃ©part
created_at TIMESTAMP DEFAULT NOW()
);

Table: schedules
CREATE TABLE schedules (
id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
line_id UUID REFERENCES lines(id),
-- Horaires
departure_time TIME,
days_of_week INTEGER[], -- [1,2,3,4,5] = lun-ven
-- CapacitÃ©
total_seats INTEGER,
available_seats INTEGER,
-- ValiditÃ©
valid_from DATE,
valid_until DATE,
is_active BOOLEAN DEFAULT true,
created_at TIMESTAMP DEFAULT NOW()
);

Table: users
CREATE TABLE users (
id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
-- IdentitÃ©
phone VARCHAR(20) UNIQUE NOT NULL,
whatsapp_verified BOOLEAN DEFAULT false,
first_name VARCHAR(100),
last_name VARCHAR(100),
email VARCHAR(100),

-- PrÃ©fÃ©rences
preferred_payment_method VARCHAR(20), -- 'orange_money',
'moov_money'
loyalty_points INTEGER DEFAULT 0,
-- MÃ©tadonnÃ©es
total_trips INTEGER DEFAULT 0,
created_at TIMESTAMP DEFAULT NOW(),
last_login TIMESTAMP
);

Table: bookings
CREATE TABLE bookings (
id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
booking_code VARCHAR(8) UNIQUE NOT NULL, -- ex: 12345678
user_id UUID REFERENCES users(id),
line_id UUID REFERENCES lines(id),
schedule_id UUID REFERENCES schedules(id),
-- DÃ©tails trajet
travel_date DATE,
departure_time TIME,
-- Passagers
passenger_name VARCHAR(200),
passenger_phone VARCHAR(20),
number_of_passengers INTEGER DEFAULT 1,
-- Tarification
base_fare INTEGER,
luggage_weight_kg INTEGER DEFAULT 0,
luggage_fee INTEGER DEFAULT 0,
total_amount INTEGER,
-- Paiement
payment_status VARCHAR(20), -- 'pending', 'paid', 'failed', 'refunded'
payment_method VARCHAR(20),
payment_reference VARCHAR(100),
paid_at TIMESTAMP,

-- Validation voyage
is_validated BOOLEAN DEFAULT false,
validated_at TIMESTAMP,
validated_by VARCHAR(100), -- nom receveur
-- Statuts
booking_status VARCHAR(20), -- 'confirmed', 'cancelled', 'completed'
created_at TIMESTAMP DEFAULT NOW(),
updated_at TIMESTAMP DEFAULT NOW()
);

Table: ratings
CREATE TABLE ratings (
id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
booking_id UUID REFERENCES bookings(id) UNIQUE,
user_id UUID REFERENCES users(id),
company_id UUID REFERENCES companies(id),
line_id UUID REFERENCES lines(id),
-- Notation (1-5 Ã©toiles)
rating INTEGER CHECK (rating >= 1 AND rating <= 5),
-- CritÃ¨res dÃ©taillÃ©s
punctuality_rating INTEGER,
comfort_rating INTEGER,
staff_rating INTEGER,
cleanliness_rating INTEGER,
-- Commentaire
comment TEXT,
-- VÃ©rification
is_verified BOOLEAN DEFAULT true, -- Seulement si voyage effectuÃ©
created_at TIMESTAMP DEFAULT NOW()
);

Table: loyalty_transactions
CREATE TABLE loyalty_transactions (
id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
user_id UUID REFERENCES users(id),
booking_id UUID REFERENCES bookings(id),
points_earned INTEGER,
points_spent INTEGER DEFAULT 0,
balance_after INTEGER,
transaction_type VARCHAR(50), -- 'booking', 'referral', 'redemption'
description TEXT,
created_at TIMESTAMP DEFAULT NOW()
);

4. Compagnies Partenaires DonnÃ©es RÃ©elles 2026
4.1 SOTRACO (SociÃ©tÃ© de Transport en
Commun)
IdentitÃ© Visuelle
Couleurs officielles :

Primaire: #00A859 (Vert SOTRACO)
Secondaire: #FFFFFF (Blanc)
Accent: #FFD700 (Jaune pour bus scolaires)
Logo : Bus vert stylisÃ© avec texte "SOTRACO"

Informations GÃ©nÃ©rales
Champ
Nom complet
Type
CrÃ©ation
Flotte
Passagers/an
SiÃ¨ge social
TÃ©lÃ©phone
Facebook
WhatsApp

Valeur
SociÃ©tÃ© de Transport en Commun
Transport urbain Ouagadougou
2004
455 bus (375 neufs livrÃ©s janvier 2026)
14 millions (2023)
Avenue Charles de Gaulle, Ouagadougou
+226 25 44 66 66
@SOTRACO.officiel (51 000 abonnÃ©s)
+226 70 00 00 01 (service client)

Lignes Urbaines SOTRACO (18 lignes)
Ligne L2B - Balkuy â†” Naaba Koom

â€¢ Distance : 18 km
â€¢ ArrÃªts : 39 stations
â€¢ Horaires : 05h45 - 20h30
â€¢ FrÃ©quence : 15-30 min selon heures
â€¢ Tarif : 150 FCFA
â€¢ ArrÃªts clÃ©s :
â€“ Terminus Balkuy
â€“ CitÃ© An II
â€“ UniversitÃ© Joseph Ki-Zerbo
â€“ Place des Nations Unies
â€“ Rond-Point BICIA
â€“ Place Naaba Koom (Terminus)
Ligne L3 - Bissisghin â†” Zones Ã‰coles

â€¢ Distance : 15 km
â€¢ ArrÃªts : 32 stations
â€¢ Horaires : 05h50 - 20h00
â€¢ FrÃ©quence : 15-25 min
â€¢ Tarif : 150 FCFA
â€¢ ArrÃªts clÃ©s :

â€“ Terminus Bissisghin
â€“ MarchÃ© Central
â€“ Avenue Kadiogo
â€“ LycÃ©e Technique
â€“ Zones Ã‰coles (Terminus)
Ligne L4 - Sandogo II â†” Zones Ã‰coles

â€¢ Distance : 16 km
â€¢ Horaires : 06h00 - 20h15
â€¢ Tarif : 150 FCFA
Ligne L10 - Tengandogo â†” Zones Ã‰coles

â€¢ Distance : 19 km
â€¢ Horaires : 06h00 - 20h00
â€¢ Tarif : 150 FCFA

Tarification SOTRACO
Type trajet
Prix (FCFA)
Urbain standard
150
Urbain longue distance
200
PÃ©riurbain (ex: PabrÃ©)
500
Abonnement mensuel
15 000
Abonnement Ã©tudiant
12 000

Notes
Toutes lignes Ouaga
+15km
Hors Ouaga
IllimitÃ© tous trajets
Avec carte Ã©tudiant

Horaires Type SOTRACO
Lundi - Vendredi :

Premier dÃ©part : 05h45
Dernier dÃ©part : 20h30
FrÃ©quence heures pointe (07h-09h, 17h-19h) : 15 min
FrÃ©quence heures creuses : 30 min
Samedi :

Premier dÃ©part : 06h00
Dernier dÃ©part : 20h00

FrÃ©quence : 20-30 min
Dimanche :

Premier dÃ©part : 06h30
Dernier dÃ©part : 19h30
FrÃ©quence : 30-45 min

Seed Data SOTRACO
{
"company": {
"name": "SOTRACO",
"slug": "sotraco",
"description": "SociÃ©tÃ© de Transport en Commun - Leader transport
urbain Ouagadougou",
"logo_url": "https://ankata-assets.s3.amazonaws.com/logos/sotraco.p
ng",
"primary_color": "#00A859",
"secondary_color": "#FFFFFF",
"phone": "+22625446666",
"whatsapp": "+22670000001",
"facebook_url": "https://facebook.com/SOTRACO.officiel",
"headquarters_address": "Avenue Charles de Gaulle, Ouagadougou",
"is_active": true
},
"lines": [
{
"line_code": "L2B",
"line_name": "Balkuy - Naaba Koom",
"origin_city": "Ouagadougou",
"destination_city": "Ouagadougou",
"distance_km": 18,
"duration_minutes": 50,
"line_type": "urban",
"base_price": 150,
"student_price": 120,
"child_price": 100
},
{

"line_code": "L3",
"line_name": "Bissisghin - Zones Ã‰coles",
"origin_city": "Ouagadougou",
"destination_city": "Ouagadougou",
"distance_km": 15,
"duration_minutes": 45,
"line_type": "urban",
"base_price": 150,
"student_price": 120,
"child_price": 100
},
{
"line_code": "L4",
"line_name": "Sandogo II - Zones Ã‰coles",
"origin_city": "Ouagadougou",
"destination_city": "Ouagadougou",
"distance_km": 16,
"duration_minutes": 48,
"line_type": "urban",
"base_price": 150,
"student_price": 120,
"child_price": 100
},
{
"line_code": "L10",
"line_name": "Tengandogo - Zones Ã‰coles",
"origin_city": "Ouagadougou",
"destination_city": "Ouagadougou",
"distance_km": 19,
"duration_minutes": 55,
"line_type": "urban",
"base_price": 150,
"student_price": 120,
"child_price": 100
}
],
"schedules": [
{
"line_code": "L2B",

"departure_time": "05:45:00",
"days_of_week": [1, 2, 3, 4, 5],
"total_seats": 60,
"frequency_minutes": 15
},
{
"line_code": "L2B",
"departure_time": "06:30:00",
"days_of_week": [6],
"total_seats": 60,
"frequency_minutes": 20
},
{
"line_code": "L2B",
"departure_time": "06:30:00",
"days_of_week": [7],
"total_seats": 60,
"frequency_minutes": 30
}
]
}

4.2 TSR (Transport Sana Rasmane)
IdentitÃ© Visuelle
Couleurs officielles :

Primaire: #1E90FF (Bleu Ã©lectrique TSR)
Secondaire: #00C853 (Vert)
Accent: #FFFFFF (Blanc)
Logo : Oiseau (hirondelle bleue) + texte "TSR" + "DOLPHINE" (nom
flotte moderne)

Informations GÃ©nÃ©rales
Champ
Nom complet
Type
Positionnement

Valeur
Transport Sana Rasmane
Transport interurbain
Low-cost (prix les plus bas)
45 bus (majoritÃ© anciens, quelques neufs
Flotte
"Dolphine")
Gare Ouaga
Gare routiÃ¨re de Ouaga 2000
Gare Bobo
Gare Accart-Ville, Bobo-Dioulasso
TÃ©lÃ©phone Ouaga +226 25 37 80 20
TÃ©lÃ©phone Bobo +226 20 97 22 33

Destinations TSR
Ouagadougou â†’ Bobo-Dioulasso

â€¢ Distance : 360 km
â€¢ DurÃ©e : 5h30 - 6h30
â€¢ Tarif : 4 500 FCFA (le moins cher du marchÃ©)
â€¢ Horaires dÃ©parts Ouaga : 06h00, 07h00, 10h00, 14h00, 17h00,
23h30
â€¢ Horaires dÃ©parts Bobo : 06h00, 07h30, 10h00, 14h30, 17h30,
23h00
â€¢ ArrÃªts : Ouaga â†’ Koudougou (1h30) â†’ Boromo (2h30) â†’ Bobo
â€¢ CapacitÃ© : 70 places (bus standard) ou 52 places (bus Dolphine
VIP)
Ouagadougou â†’ Fada N'Gourma

â€¢ Distance : 450 km
â€¢ DurÃ©e : 7-8h
â€¢ Tarif : 5 500 FCFA
â€¢ Horaires : 06h00, 09h00, 15h00
â€¢ ArrÃªts : Ouaga â†’ KoupÃ©la (2h) â†’ Fada

Ouagadougou â†’ DÃ©dougou

â€¢ Distance : 230 km
â€¢ DurÃ©e : 3h30 - 4h
â€¢ Tarif : 3 500 FCFA
â€¢ Horaires : 07h00, 11h00, 16h00

Tarification TSR
Trajet
Prix (FCFA) Bagage (FCFA) DurÃ©e
Ouaga - Bobo
4 500
500/25kg 5h30
Ouaga - Fada
5 500
700/25kg
7h
Ouaga - DÃ©dougou
3 500
400/25kg 3h30
Bobo - Banfora
2 000
300/25kg 1h30

Notes TSR
Avantages :

Prix les plus compÃ©titifs marchÃ© Burkina
Horaires frÃ©quents Ouaga-Bobo (6 dÃ©parts/jour)
Nouveaux bus "Dolphine" confortables
InconvÃ©nients :

Flotte ancienne (70% bus > 10 ans)
AC souvent en panne
Retards frÃ©quents (30min - 1h)
RÃ©putation chauffeurs imprudents
Notation moyenne : â˜…â˜…â˜…â˜†â˜† (3.2/5)

Seed Data TSR
{
"company": {
"name": "TSR Transport",
"slug": "tsr-transport",
"description": "Transport Sana Rasmane - Prix compÃ©titifs transport
interurbain",

"logo_url": "https://ankata-assets.s3.amazonaws.com/logos/tsr.png",
"primary_color": "#1E90FF",
"secondary_color": "#00C853",
"phone": "+22625378020",
"ouaga_station_address": "Gare routiÃ¨re Ouaga 2000",
"bobo_station_address": "Gare Accart-Ville, Bobo-Dioulasso",
"is_active": true
},
"lines": [
{
"line_code": "TSR-OB",
"line_name": "Ouagadougou - Bobo-Dioulasso",
"origin_city": "Ouagadougou",
"destination_city": "Bobo-Dioulasso",
"distance_km": 360,
"duration_minutes": 330,
"line_type": "interurban",
"base_price": 4500,
"luggage_price_per_kg": 20
},
{
"line_code": "TSR-OF",
"line_name": "Ouagadougou - Fada N'Gourma",
"origin_city": "Ouagadougou",
"destination_city": "Fada N'Gourma",
"distance_km": 450,
"duration_minutes": 420,
"line_type": "interurban",
"base_price": 5500,
"luggage_price_per_kg": 28
},
{
"line_code": "TSR-OD",
"line_name": "Ouagadougou - DÃ©dougou",
"origin_city": "Ouagadougou",
"destination_city": "DÃ©dougou",
"distance_km": 230,
"duration_minutes": 210,
"line_type": "interurban",

"base_price": 3500,
"luggage_price_per_kg": 16
}
],
"schedules": [
{
"line_code": "TSR-OB",
"departure_times": ["06:00", "07:00", "10:00", "14:00", "17:00",
"23:30"],
"days_of_week": [1, 2, 3, 4, 5, 6, 7],
"total_seats": 70
},
{
"line_code": "TSR-OF",
"departure_times": ["06:00", "09:00", "15:00"],
"days_of_week": [1, 2, 3, 4, 5, 6, 7],
"total_seats": 70
}
]
}

4.3 STAF Transport
IdentitÃ© Visuelle
Couleurs officielles :

Primaire: #FF6B00 (Orange vif)
Secondaire: #003366 (Bleu marine)
Accent: #FFFFFF (Blanc)
Logo : Texte "STAF" stylisÃ© orange et bleu

Informations GÃ©nÃ©rales

Champ
Nom complet
Type
Base
Positionnement
Flotte
Gare Bobo
Gare Ouaga
TÃ©lÃ©phone Bobo
TÃ©lÃ©phone Ouaga

Valeur
STAF Transport
Transport interurbain
Bobo-Dioulasso
Milieu de gamme, fiable
35 bus rÃ©cents (< 5 ans)
Avenue de la RÃ©publique, Bobo
Gare routiÃ¨re Ouaga 2000
+226 20 97 15 55
+226 25 37 44 88

Destinations STAF
Ouagadougou â†” Bobo-Dioulasso

â€¢ Distance : 360 km
â€¢ DurÃ©e : 5h - 6h
â€¢ Tarif : 6 500 FCFA
â€¢ Horaires dÃ©parts Ouaga : 06h00, 09h00, 12h00, 15h00, 18h00
â€¢ Horaires dÃ©parts Bobo : 06h00, 09h00, 12h00, 15h00, 18h00
â€¢ CapacitÃ© : 60 places (siÃ¨ges confortables)
Ouagadougou â†’ Fada N'Gourma

â€¢ Distance : 450 km
â€¢ DurÃ©e : 6h30 - 7h30
â€¢ Tarif : 6 000 FCFA
â€¢ Horaires : 06h00, 09h00, 15h00
Ouagadougou â†’ Gaoua

â€¢ Distance : 520 km
â€¢ DurÃ©e : 8h - 9h
â€¢ Tarif : 8 500 FCFA
â€¢ Horaires : 06h00, 14h00

Bobo-Dioulasso â†’ Banfora

â€¢ Distance : 85 km
â€¢ DurÃ©e : 1h30
â€¢ Tarif : 2 500 FCFA
â€¢ Horaires : 07h00, 10h00, 14h00, 17h00

Tarification STAF
Trajet
Prix (FCFA) Bagage (FCFA) DurÃ©e
Ouaga - Bobo
6 500
600/25kg 5h30
Ouaga - Fada
6 000
700/25kg
7h
Ouaga - Gaoua
8 500
1000/25kg 8h30
Bobo - Banfora
2 500
300/25kg 1h30

Notes STAF
Avantages :

Bus rÃ©cents, bien entretenus
AC fonctionnelle 95% du temps
PonctualitÃ© correcte (retards < 30min gÃ©nÃ©ralement)
Service client rÃ©actif
InconvÃ©nients :

Prix 30-40% plus Ã©levÃ© que TSR
Moins de dÃ©parts quotidiens
Notation moyenne : â˜…â˜…â˜…â˜…â˜† (4.1/5)

Seed Data STAF
{
"company": {
"name": "STAF Transport",
"slug": "staf-transport",
"description": "Transport interurbain fiable basÃ© Ã  Bobo-Dioulasso",
"logo_url": "https://ankata-assets.s3.amazonaws.com/logos/staf.png",
"primary_color": "#FF6B00",

"secondary_color": "#003366",
"phone": "+22620971555",
"bobo_station_address": "Avenue de la RÃ©publique, Bobo-Dioulasso",
"ouaga_station_address": "Gare routiÃ¨re Ouaga 2000",
"is_active": true
},
"lines": [
{
"line_code": "STAF-OB",
"line_name": "Ouagadougou - Bobo-Dioulasso",
"origin_city": "Ouagadougou",
"destination_city": "Bobo-Dioulasso",
"distance_km": 360,
"duration_minutes": 320,
"line_type": "interurban",
"base_price": 6500,
"luggage_price_per_kg": 24
},
{
"line_code": "STAF-OF",
"line_name": "Ouagadougou - Fada N'Gourma",
"origin_city": "Ouagadougou",
"destination_city": "Fada N'Gourma",
"distance_km": 450,
"duration_minutes": 400,
"line_type": "interurban",
"base_price": 6000,
"luggage_price_per_kg": 28
},
{
"line_code": "STAF-OG",
"line_name": "Ouagadougou - Gaoua",
"origin_city": "Ouagadougou",
"destination_city": "Gaoua",
"distance_km": 520,
"duration_minutes": 510,
"line_type": "interurban",
"base_price": 8500,
"luggage_price_per_kg": 40

},
{
"line_code": "STAF-BB",
"line_name": "Bobo-Dioulasso - Banfora",
"origin_city": "Bobo-Dioulasso",
"destination_city": "Banfora",
"distance_km": 85,
"duration_minutes": 90,
"line_type": "interurban",
"base_price": 2500,
"luggage_price_per_kg": 12
}
],
"schedules": [
{
"line_code": "STAF-OB",
"departure_times": ["06:00", "09:00", "12:00", "15:00", "18:00"],
"days_of_week": [1, 2, 3, 4, 5, 6, 7],
"total_seats": 60
},
{
"line_code": "STAF-BB",
"departure_times": ["07:00", "10:00", "14:00", "17:00"],
"days_of_week": [1, 2, 3, 4, 5, 6, 7],
"total_seats": 60
}
]
}

4.4 RAHIMO Transports
IdentitÃ© Visuelle
Couleurs officielles :

Primaire: #DC143C (Rouge vif)
Secondaire: #FFD700 (Or/Jaune)
Accent: #000000 (Noir)
Texte: #FFFFFF (Blanc)

Logo : "RAHIMO" stylisÃ© rouge et or + "G8" (flotte premium)

Informations GÃ©nÃ©rales
Champ
Nom complet
Type
Positionnement
Flotte

Valeur
RAHIMO Transports
Transport interurbain + international
Premium, confort maximal
28 bus de luxe "G8" (neufs 2024-2025)
AC garanti, TV/musique, siÃ¨ges inclinables,
Services
WiFi (sÃ©lectionnÃ©s)
Gare Ouaga
Gare Ouaga 2000, Section VIP
Gare Bobo
Station RAHIMO, Route de DÃ©dougou
TÃ©lÃ©phone Ouaga +226 25 37 99 00
WhatsApp
+226 70 20 20 20
Email
contact@rahimotransports.bf

Destinations RAHIMO
Ouagadougou â†” Bobo-Dioulasso (Ligne Phare)

â€¢ Distance : 360 km
â€¢ DurÃ©e : 5h - 5h30 (le plus rapide)
â€¢ Tarif : 6 500 FCFA (standard) / 8 000 FCFA (VIP)
â€¢ Horaires fixes dÃ©parts Ouaga : 07h30, 10h00, 14h30, 18h30,
23h30
â€¢ Horaires fixes dÃ©parts Bobo : 07h30, 10h00, 14h30, 18h30,
23h00
â€¢ CapacitÃ© : 52 places (siÃ¨ges larges) ou 36 places VIP
â€¢ Services inclus : AC, TV, prise USB, collation
Ouagadougou â†’ Abidjan (International)

â€¢ Distance : 1 150 km
â€¢ DurÃ©e : 18h - 20h (avec arrÃªt Bobo + frontiÃ¨re)
â€¢ Tarif : 15 000 FCFA
â€¢ Horaires : Lundi, Mercredi, Vendredi 17h00
â€¢ ArrÃªts : Ouaga â†’ Bobo (5h) â†’ FrontiÃ¨re CÃ´te d'Ivoire â†’ Abidjan

Ouagadougou â†’ LomÃ© (International)

â€¢ Distance : 980 km
â€¢ DurÃ©e : 16h - 18h
â€¢ Tarif : 12 000 FCFA
â€¢ Horaires : Mardi, Jeudi, Samedi 18h00
â€¢ ArrÃªts : Ouaga â†’ KoupÃ©la â†’ Fada â†’ FrontiÃ¨re Togo â†’ LomÃ©
Bobo-Dioulasso â†’ Sikasso (Mali)

â€¢ Distance : 180 km
â€¢ DurÃ©e : 3h30
â€¢ Tarif : 5 500 FCFA
â€¢ Horaires : 08h00, 14h00

Tarification RAHIMO
Trajet
Prix (FCFA) Bagage inclus DurÃ©e
Ouaga - Bobo Standard
6 500
30kg
5h
Ouaga - Bobo VIP
8 000
40kg
5h
Ouaga - Abidjan
15 000
30kg
18h
Ouaga - LomÃ©
12 000
30kg
16h
Bobo - Sikasso
5 500
25kg 3h30

Services Premium RAHIMO
Inclus tous trajets :

Climatisation garantie 100%
SiÃ¨ges inclinables cuir
Espace jambes 20% supÃ©rieur
Prises USB individuelles
Ã‰cran TV + musique
Collation offerte (trajet > 3h)
Assurance voyage incluse
Option VIP (+1500 FCFA) :

SiÃ¨ges 1Ã¨re classe (36 places vs 52)
WiFi 4G gratuit

Repas chaud servi
AccÃ¨s salon d'attente VIP gares

Notes RAHIMO
Avantages :

Meilleur confort marchÃ© Burkina
PonctualitÃ© remarquable (retard moyen 15min)
Service client professionnel
Liaisons internationales
InconvÃ©nients :

Prix 30-50% supÃ©rieur concurrence
Moins de dÃ©parts quotidiens
Notation moyenne : â˜…â˜…â˜…â˜…â˜… (4.6/5)

Seed Data RAHIMO
{
"company": {
"name": "RAHIMO Transports",
"slug": "rahimo-transports",
"description": "Transport premium G8 - Confort et ponctualitÃ©
garantis",
"logo_url": "https://ankata-assets.s3.amazonaws.com/logos/rahimo.p
ng",
"primary_color": "#DC143C",
"secondary_color": "#FFD700",
"phone": "+22625379900",
"whatsapp": "+22670202020",
"email": "contact@rahimotransports.bf",
"ouaga_station_address": "Gare Ouaga 2000, Section VIP",
"bobo_station_address": "Station RAHIMO, Route de DÃ©dougou, Bobo",
"is_active": true
},
"lines": [
{
"line_code": "RAHIMO-OB",

"line_name": "Ouagadougou - Bobo-Dioulasso",
"origin_city": "Ouagadougou",
"destination_city": "Bobo-Dioulasso",
"distance_km": 360,
"duration_minutes": 310,
"line_type": "interurban",
"base_price": 6500,
"luggage_price_per_kg": 0
},
{
"line_code": "RAHIMO-OB-VIP",
"line_name": "Ouagadougou - Bobo-Dioulasso VIP",
"origin_city": "Ouagadougou",
"destination_city": "Bobo-Dioulasso",
"distance_km": 360,
"duration_minutes": 300,
"line_type": "interurban",
"base_price": 8000,
"luggage_price_per_kg": 0
},
{
"line_code": "RAHIMO-OA",
"line_name": "Ouagadougou - Abidjan",
"origin_city": "Ouagadougou",
"destination_city": "Abidjan",
"distance_km": 1150,
"duration_minutes": 1100,
"line_type": "international",
"base_price": 15000,
"luggage_price_per_kg": 0
},
{
"line_code": "RAHIMO-OL",
"line_name": "Ouagadougou - LomÃ©",
"origin_city": "Ouagadougou",
"destination_city": "LomÃ©",
"distance_km": 980,
"duration_minutes": 960,
"line_type": "international",

"base_price": 12000,
"luggage_price_per_kg": 0
},
{
"line_code": "RAHIMO-BS",
"line_name": "Bobo-Dioulasso - Sikasso",
"origin_city": "Bobo-Dioulasso",
"destination_city": "Sikasso",
"distance_km": 180,
"duration_minutes": 210,
"line_type": "international",
"base_price": 5500,
"luggage_price_per_kg": 0
}
],
"schedules": [
{
"line_code": "RAHIMO-OB",
"departure_times": ["07:30", "10:00", "14:30", "18:30", "23:30"],
"days_of_week": [1, 2, 3, 4, 5, 6, 7],
"total_seats": 52
},
{
"line_code": "RAHIMO-OB-VIP",
"departure_times": ["10:00", "18:30"],
"days_of_week": [1, 2, 3, 4, 5, 6, 7],
"total_seats": 36
},
{
"line_code": "RAHIMO-OA",
"departure_times": ["17:00"],
"days_of_week": [1, 3, 5],
"total_seats": 52
},
{
"line_code": "RAHIMO-OL",
"departure_times": ["18:00"],
"days_of_week": [2, 4, 6],
"total_seats": 52

}
]
}

4.5 RAKIETA Transport
IdentitÃ© Visuelle
Couleurs officielles :

Primaire: #8B0000 (Rouge bordeaux)
Secondaire: #FFD700 (Or)
Accent: #FFFFFF (Blanc)
Logo : FusÃ©e stylisÃ©e (Rakieta = fusÃ©e en moorÃ©) + texte

Informations GÃ©nÃ©rales
Champ
Nom complet
Type
Positionnement
CrÃ©ation
Flotte
Gare Ouaga
TÃ©lÃ©phone
WhatsApp
Slogan

Valeur
RAKIETA Transport
Transport interurbain + international
PonctualitÃ©, rapiditÃ©
2018 (compagnie rÃ©cente)
22 bus modernes
Gare routiÃ¨re Ouaga 2000
+226 25 37 66 77
+226 70 10 10 10
"Rapide comme une fusÃ©e"

Destinations RAKIETA
Ouagadougou â†” Bobo-Dioulasso

â€¢ Distance : 360 km
â€¢ DurÃ©e : 5h15 - 5h45
â€¢ Tarif : 6 000 FCFA
â€¢ Horaires dÃ©parts Ouaga : 07h00, 10h00, 14h00, 17h00, 22h00
â€¢ Horaires dÃ©parts Bobo : 07h00, 10h00, 14h00, 17h00, 22h00

â€¢ CapacitÃ© : 60 places
Ouagadougou â†’ LomÃ© (Via Togo)

â€¢ Distance : 980 km
â€¢ DurÃ©e : 15h - 17h
â€¢ Tarif : 11 000 FCFA
â€¢ Horaires : Mercredi, Vendredi, Dimanche 19h00
â€¢ Service : Nuit en bus, arrivÃ©e LomÃ© matin
Ouagadougou â†’ Niamey (Niger)

â€¢ Distance : 520 km
â€¢ DurÃ©e : 8h - 9h
â€¢ Tarif : 7 500 FCFA
â€¢ Horaires : Lundi, Jeudi 08h00

Tarification RAKIETA
Trajet
Prix (FCFA) Bagage (FCFA) DurÃ©e
Ouaga - Bobo
6 000
500/25kg 5h30
Ouaga - LomÃ©
11 000
1000/30kg
16h
Ouaga - Niamey
7 500
800/25kg 8h30

Notes RAKIETA
Avantages :

PonctualitÃ© excellente (retard moyen 10min)
Bus rÃ©cents, bien entretenus
Service client jeune et dynamique
SystÃ¨me rÃ©servation online actif (site web)
InconvÃ©nients :

RÃ©seau destinations limitÃ© vs concurrents
Jeune compagnie (historique court)
Notation moyenne : â˜…â˜…â˜…â˜…â˜† (4.3/5)

Seed Data RAKIETA
{
"company": {
"name": "RAKIETA Transport",
"slug": "rakieta-transport",
"description": "Transport rapide et ponctuel - Rapide comme une
fusÃ©e",
"logo_url": "https://ankata-assets.s3.amazonaws.com/logos/rakieta.pn
g",
"primary_color": "#8B0000",
"secondary_color": "#FFD700",
"phone": "+22625376677",
"whatsapp": "+22670101010",
"website_url": "https://transport-rakieta.com",
"ouaga_station_address": "Gare routiÃ¨re Ouaga 2000",
"is_active": true
},
"lines": [
{
"line_code": "RAKIETA-OB",
"line_name": "Ouagadougou - Bobo-Dioulasso",
"origin_city": "Ouagadougou",
"destination_city": "Bobo-Dioulasso",
"distance_km": 360,
"duration_minutes": 330,
"line_type": "interurban",
"base_price": 6000,
"luggage_price_per_kg": 20
},
{
"line_code": "RAKIETA-OL",
"line_name": "Ouagadougou - LomÃ©",
"origin_city": "Ouagadougou",
"destination_city": "LomÃ©",
"distance_km": 980,
"duration_minutes": 960,
"line_type": "international",
"base_price": 11000,
"luggage_price_per_kg": 33

},
{
"line_code": "RAKIETA-ON",
"line_name": "Ouagadougou - Niamey",
"origin_city": "Ouagadougou",
"destination_city": "Niamey",
"distance_km": 520,
"duration_minutes": 510,
"line_type": "international",
"base_price": 7500,
"luggage_price_per_kg": 32
}
],
"schedules": [
{
"line_code": "RAKIETA-OB",
"departure_times": ["07:00", "10:00", "14:00", "17:00", "22:00"],
"days_of_week": [1, 2, 3, 4, 5, 6, 7],
"total_seats": 60
},
{
"line_code": "RAKIETA-OL",
"departure_times": ["19:00"],
"days_of_week": [3, 5, 7],
"total_seats": 60
},
{
"line_code": "RAKIETA-ON",
"departure_times": ["08:00"],
"days_of_week": [1, 4],
"total_seats": 60
}
]
}

4.6 TCV (Transport Confort Voyageur)
IdentitÃ© Visuelle
Couleurs officielles :

Primaire: #006400 (Vert foncÃ©)
Secondaire: #FFD700 (Jaune or)
Accent: #FFFFFF (Blanc)
Logo : "TCV" en lettres vertes Ã©paisses

Informations GÃ©nÃ©rales
Champ
Nom complet
Type
Positionnement
Flotte
Gare Ouaga
TÃ©lÃ©phone

Valeur
Transport Confort Voyageur
Transport interurbain
Confort milieu de gamme
18 bus
Gare routiÃ¨re Ouaga 2000
+226 25 37 55 44

Destinations TCV
Ouagadougou â†” Bobo-Dioulasso

â€¢ Tarif : 5 500 FCFA
â€¢ Horaires : 07h30, 11h00, 15h00, 18h30
â€¢ DurÃ©e : 5h30 - 6h
Ouagadougou â†’ Dori

â€¢ Distance : 280 km
â€¢ Tarif : 4 500 FCFA
â€¢ Horaires : 07h00, 13h00
â€¢ DurÃ©e : 4h - 5h

Seed Data TCV
{
"company": {
"name": "TCV Transport",
"slug": "tcv-transport",
"description": "Transport Confort Voyageur - Milieu de gamme",
"logo_url": "https://ankata-assets.s3.amazonaws.com/logos/tcv.png",
"primary_color": "#006400",
"secondary_color": "#FFD700",
"phone": "+22625375544",
"ouaga_station_address": "Gare routiÃ¨re Ouaga 2000",
"is_active": true
},
"lines": [
{
"line_code": "TCV-OB",
"line_name": "Ouagadougou - Bobo-Dioulasso",
"origin_city": "Ouagadougou",
"destination_city": "Bobo-Dioulasso",
"distance_km": 360,
"duration_minutes": 340,
"line_type": "interurban",
"base_price": 5500,
"luggage_price_per_kg": 22
},
{
"line_code": "TCV-OD",
"line_name": "Ouagadougou - Dori",
"origin_city": "Ouagadougou",
"destination_city": "Dori",
"distance_km": 280,
"duration_minutes": 270,
"line_type": "interurban",
"base_price": 4500,
"luggage_price_per_kg": 18
}
],
"schedules": [
{

"line_code": "TCV-OB",
"departure_times": ["07:30", "11:00", "15:00", "18:30"],
"days_of_week": [1, 2, 3, 4, 5, 6, 7],
"total_seats": 60
},
{
"line_code": "TCV-OD",
"departure_times": ["07:00", "13:00"],
"days_of_week": [1, 2, 3, 4, 5, 6, 7],
"total_seats": 60
}
]
}

5. Authentification WhatsApp
5.1 Pourquoi WhatsApp OTP ?
Contexte Burkina Faso :

â€¢ 95% population active a WhatsApp
â€¢ 70% n'ont PAS d'email
â€¢ SMS OTP coÃ»teux : 15-25 FCFA/SMS
â€¢ WhatsApp Business API : GRATUIT via Meta

5.2 Flow Authentification
Inscription Utilisateur
1. User ouvre app Ankata
â†“

2. Ã‰cran : "Entrez votre numÃ©ro WhatsApp"
Format : +226 XX XX XX XX
â†“

3. User tape : +226 70 12 34 56
â†“

4. App backend â†’ WhatsApp Business API
POST /messages

{
"to": "+22670123456",
"type": "template",
"template": {
"name": "ankata_otp",
"language": "fr",
"components": [{
"type": "body",
"parameters": [{
"type": "text",
"text": "123456" // Code 6 chiffres
}]
}]
}
}
â†“

5. User reÃ§oit WhatsApp : "Votre code Ankata: 123456"
â†“

6. User entre code dans app
â†“

7. Backend vÃ©rifie code â†’ CrÃ©e compte user
â†“

8. User connectÃ© âœ…

Connexion Existante
1. User ouvre app
â†“

2. Si numÃ©ro connu : Envoi auto code WhatsApp
â†“

3. User entre code
â†“

4. Connexion instantanÃ©e âœ…

5.3 ImplÃ©mentation Backend

API Endpoint: POST /auth/request-otp
// Node.js + Express
const express = require('express');
const axios = require('axios');
const redis = require('redis');
const router = express.Router();
const redisClient = redis.createClient();
router.post('/auth/request-otp', async (req, res) => {
const { phone } = req.body; // +22670123456
// Validation format
if (!/^+226\d{8}$/.test(phone)) {
return res.status(400).json({ error: 'Format tÃ©lÃ©phone invalide' });
}
// GÃ©nÃ©ration OTP 6 chiffres
const otp = Math.floor(100000 + Math.random() * 900000).toString();
// Stockage Redis (expire 5 min)
await redisClient.setEx(otp:${phone}, 300, otp);
// Envoi WhatsApp
try {
await axios.post('https://graph.facebook.com/v18.0/YOUR_PHONE_NU
MBER_ID/messages', {
messaging_product: 'whatsapp',
to: phone,
type: 'template',
template: {
name: 'ankata_otp',
language: { code: 'fr' },
components: [{
type: 'body',
parameters: [{ type: 'text', text: otp }]
}]
}
}, {
headers: {

'Authorization': Bearer ${process.env.WHATSAPP_ACCESS_TOKEN},
'Content-Type': 'application/json'
}
});
res.json({ success: true, message: 'Code envoyÃ© par WhatsApp' });

} catch (error) {
console.error('WhatsApp API error:', error);
res.status(500).json({ error: 'Ã‰chec envoi code' });
}
});

API Endpoint: POST /auth/verify-otp
router.post('/auth/verify-otp', async (req, res) => {
const { phone, otp } = req.body;
// RÃ©cupÃ©ration OTP stockÃ©
const storedOtp = await redisClient.get(otp:${phone});
if (!storedOtp) {
return res.status(400).json({ error: 'Code expirÃ© ou invalide' });
}
if (storedOtp !== otp) {
return res.status(400).json({ error: 'Code incorrect' });
}
// Suppression OTP utilisÃ©
await redisClient.del(otp:${phone});
// CrÃ©ation/rÃ©cupÃ©ration user
let user = await db.query('SELECT * FROM users WHERE phone = $1',
[phone]);
if (!user.rows.length) {
// Nouveau user
user = await db.query(
'INSERT INTO users (phone, whatsapp_verified) VALUES ($1, true)
RETURNING *',

[phone]
);
}
const userId = user.rows[0].id;
// GÃ©nÃ©ration JWT token
const token = jwt.sign({ userId, phone }, process.env.JWT_SECRET, {
expiresIn: '30d' });
res.json({
success: true,
token,
user: user.rows[0]
});
});

5.4 Configuration WhatsApp Business
Ã‰tapes setup Meta :

1. CrÃ©er compte Meta Business : https://business.facebook.com
2. Ajouter WhatsApp Business API
3. VÃ©rifier numÃ©ro tÃ©lÃ©phone entreprise : +226 XX XX XX XX
4. CrÃ©er template message "ankata_otp" :
Votre code de connexion Ankata est: {{1}}
Ce code expire dans 5 minutes.
5. Obtenir Access Token permanent
6. Stocker dans .env : WHATSAPP_ACCESS_TOKEN=EAAxxxxx
CoÃ»ts :

Messages notifications : GRATUIT (1000 premiers/mois)
Au-delÃ  : 0.005$ = 3 FCFA/message (beaucoup moins cher que
SMS)

6. IntÃ©gration Paiement Mobile
Money
6.1 AgrÃ©gateurs Paiement Burkina
Pourquoi agrÃ©gateur ?

Au lieu d'intÃ©grer sÃ©parÃ©ment Orange Money + Moov Money +
autres, utiliser agrÃ©gateur unique qui gÃ¨re tous opÃ©rateurs.

Solutions Disponibles
AgrÃ©gateur
Yenga Pay
PayDunya
CinetPay

Commission
1.5% + 50 FCFA
2%
1.8% + 25 FCFA

OpÃ©rateurs
Orange, Moov, Coris, Wizall
Orange, Moov
Orange, Moov, Wave

Recommandation : Yenga Pay

SpÃ©cialisÃ© UEMOA/Burkina
Meilleure couverture opÃ©rateurs
Documentation dev excellente
Support technique local

6.2 Flow Paiement
RÃ©servation â†’ Paiement
1. User sÃ©lectionne trajet : TSR Ouaga-Bobo 14h (4500 FCFA)
â†“

2. Entre infos passager + bagages
Total : 5000 FCFA (4500 + 500 bagages)
â†“

3. Ã‰cran paiement :
â€¢ Orange Money (auto-dÃ©tectÃ© si user a OM)
â€¢ Moov Money

â€¢ Coris Money
â†“

4. User sÃ©lectionne Orange Money
â†“

5. App backend â†’ Yenga Pay API
POST /payment/initiate
{
"amount": 5000,
"currency": "XOF",
"payment_method": "orange_money_bf",
"customer_phone": "+22670123456",
"order_id": "BOOK-12345678",
"return_url": "ankata://payment/callback"
}
â†“

6. Yenga Pay â†’ Orange Money
User reÃ§oit push OM : "Confirmez 5000 FCFA pour ANKATA"
â†“

7. User tape code PIN Orange Money
â†“

8. Orange Money â†’ Yenga Pay â†’ Ankata Backend
Webhook : { "status": "success", "order_id": "BOOK-12345678" }
â†“

9. Backend update booking :
payment_status = 'paid'
booking_status = 'confirmed'
â†“

10. User reÃ§oit WhatsApp :
"âœ… Billet confirmÃ© TSR Ouaga-Bobo 14h
Code: 12345678
Montant: 5000 FCFA payÃ©"
â†“

11. Compagnie TSR notifiÃ©e :
Email + SMS : Nouvelle rÃ©servation passager Diallo 14h

6.3 ImplÃ©mentation Backend
API Endpoint: POST /bookings/create
router.post('/bookings/create', authenticate, async (req, res) => {
const {
line_id,
travel_date,
passenger_name,
passenger_phone,
luggage_weight_kg,
payment_method
} = req.body;
const userId = req.user.id;
// 1. RÃ©cupÃ©ration infos ligne
const line = await db.query('SELECT * FROM lines WHERE id = $1',
[line_id]);
const baseFare = line.rows[0].base_price;
const luggageFee = luggage_weight_kg *
line.rows[0].luggage_price_per_kg;
const totalAmount = baseFare + luggageFee;
// 2. GÃ©nÃ©ration code booking unique
const bookingCode = generateBookingCode(); // 8 chiffres
// 3. CrÃ©ation booking (status pending)
const booking = await db.query( INSERT INTO bookings (
booking_code, user_id, line_id, travel_date, passenger_name,
passenger_phone, base_fare, luggage_weight_kg, luggage_fee,
total_amount, payment_status, booking_status ) VALUES ($1, $2, $3,
$4, $5, $6, $7, $8, $9, $10, 'pending', 'pending') RETURNING * , [
bookingCode, userId, line_id, travel_date,
passenger_name, passenger_phone,
baseFare, luggage_weight_kg, luggageFee, totalAmount
]);
const bookingId = booking.rows[0].id;

// 4. Initiation paiement Yenga Pay
try {
const yengaResponse = await axios.post('
https://api.yengapay.com/v1/payments', {
amount: totalAmount,
currency: 'XOF',
payment_method: payment_method, // 'orange_money_bf',
'moov_money_bf'
customer_phone: req.user.phone,
order_id: bookingCode,
callback_url: ${process.env.API_URL}/webhooks/yenga-callback,
return_url: 'ankata://payment/success'
}, {
headers: {
'Authorization': Bearer ${process.env.YENGA_API_KEY},
'Content-Type': 'application/json'
}
});
// 5. Stockage rÃ©fÃ©rence paiement
await db.query(
'UPDATE bookings SET payment_reference = $1 WHERE id = $2',
[yengaResponse.data.transaction_id, bookingId]
);
res.json({
success: true,
booking_code: bookingCode,
payment_url: yengaResponse.data.payment_url,
message: 'Confirmez le paiement sur votre tÃ©lÃ©phone'
});

} catch (error) {
console.error('Yenga Pay error:', error);
// Annulation booking
await db.query('UPDATE bookings SET booking_status = $1 WHERE id = $2', ['

res.status(500).json({ error: 'Ã‰chec initiation paiement' });

}
});

Webhook Yenga Pay: POST /webhooks/yenga-callback
router.post('/webhooks/yenga-callback', async (req, res) => {
const { order_id, status, transaction_id } = req.body;
// VÃ©rification signature Yenga (sÃ©curitÃ©)
const signature = req.headers['x-yenga-signature'];
if (!verifyYengaSignature(req.body, signature)) {
return res.status(401).json({ error: 'Signature invalide' });
}
if (status === 'success') {
// Paiement rÃ©ussi
await db.query( UPDATE bookings SET payment_status = 'paid',
booking_status = 'confirmed', paid_at = NOW() WHERE booking_code
= $1 , [order_id]);
// RÃ©cupÃ©ration booking
const booking = await db.query(`
SELECT b.*, u.phone, u.first_name, l.line_name, c.name as company_name
FROM bookings b
JOIN users u ON b.user_id = u.id
JOIN lines l ON b.line_id = l.id
JOIN companies c ON l.company_id = c.id
WHERE b.booking_code = $1
`, [order_id]);
const b = booking.rows[0];
// Notification WhatsApp user
await sendWhatsAppNotification(b.phone, `
âœ… Billet confirmÃ© !

Compagnie: ${b.company_name}
Ligne: ${b.line_name}
Date: ${formatDate(b.travel_date)}
Passager: ${b.passenger_name}
ğŸ’³ Montant payÃ©: ${b.total_amount} FCFA
ğŸ« Code billet: ${b.booking_code}

PrÃ©sentez ce code au receveur lors de la montÃ©e.
Bon voyage avec Ankata ! ğŸšŒ
`);
// Notification compagnie (email)
await sendCompanyEmail(b.company_name, {
subject: 'Nouvelle rÃ©servation Ankata',
booking: b
});
res.json({ success: true });

} else if (status === 'failed') {
// Paiement Ã©chouÃ©
await db.query( UPDATE bookings SET payment_status = 'failed',
booking_status = 'cancelled' WHERE booking_code = $1 , [order_id]);
res.json({ success: true });

}
});

6.4 Gestion Commissions
Business Model :

Partie

Prix ticket passager
Commission Yenga Pay
Commission Ankata
Montant compagnie
reÃ§oit

Montant exemple
Commission
(FCFA)
5 000
100%
-87.5
1.75%
-100
2%

4 812.5

96.25%

Logique split paiement :

// Lors rÃ©ception paiement Yenga
const totalAmount = 5000; // FCFA
const yengaFee = totalAmount * 0.0175; // 87.5 FCFA
const anaktaCommission = totalAmount * 0.02; // 100 FCFA
const companyAmount = totalAmount - yengaFee anaktaCommission; // 4812.5 FCFA
// Enregistrement comptable
await db.query( INSERT INTO financial_transactions ( booking_id,
total_amount, yenga_fee, anakta_commission, company_amount )
VALUES ($1, $2, $3, $4, $5), [bookingId, totalAmount, yengaFee,
anaktaCommission, companyAmount]);

7. SystÃ¨me Notation VÃ©rifiÃ©e
7.1 Principe Notation VÃ©rifiÃ©e
ProblÃ¨me notation classique :

Faux avis (concurrence, bots)
Avis sans expÃ©rience rÃ©elle
Solution Ankata :

â€¢ Notation autorisÃ©e UNIQUEMENT si voyage effectuÃ©
â€¢ VÃ©rification : booking_status = 'completed' AND is_validated =
true
â€¢ DÃ©lai : 2h aprÃ¨s arrivÃ©e jusqu'Ã  7 jours aprÃ¨s

â€¢ Une seule notation par booking

7.2 Flow Notation
1. Passager effectue trajet TSR Ouaga-Bobo
â†“

2. Receveur valide montÃ©e (is_validated = true)
â†“

3. SystÃ¨me dÃ©tecte arrivÃ©e prÃ©vue (travel_date + duration)
â†“

4. 2h aprÃ¨s arrivÃ©e : Notification push + WhatsApp
"Comment Ã©tait votre voyage TSR ? Notez votre expÃ©rience"
â†“

5. User ouvre app â†’ Ã‰cran notation
â€¢ Note globale : â˜…â˜…â˜…â˜…â˜… (1-5 Ã©toiles)
â€¢ PonctualitÃ© : â˜…â˜…â˜…â˜…â˜†
â€¢ Confort : â˜…â˜…â˜…â˜…â˜†
â€¢ Personnel : â˜…â˜…â˜…â˜…â˜…
â€¢ PropretÃ© : â˜…â˜…â˜…â˜†â˜†
â€¢ Commentaire (optionnel)
â†“

6. User valide notation
â†“

7. Backend vÃ©rifie :
booking existe
is_validated = true
pas dÃ©jÃ  notÃ©
dÃ©lai respectÃ© (< 7 jours)
â†“

8. Enregistrement notation
â†“

9. Recalcul note moyenne compagnie
â†“

10. User reÃ§oit +50 points fidÃ©litÃ©

7.3 ImplÃ©mentation Backend
API Endpoint: POST /ratings/create
router.post('/ratings/create', authenticate, async (req, res) => {
const {
booking_id,
rating, // 1-5
punctuality_rating,
comfort_rating,
staff_rating,
cleanliness_rating,
comment
} = req.body;
const userId = req.user.id;
// 1. VÃ©rification booking existe et user propriÃ©taire
const booking = await db.query( SELECT * FROM bookings WHERE id
= $1 AND user_id = $2 , [booking_id, userId]);
if (!booking.rows.length) {
return res.status(404).json({ error: 'RÃ©servation introuvable' });
}
const b = booking.rows[0];
// 2. VÃ©rification voyage effectuÃ© (validÃ©)
if (!b.is_validated) {
return res.status(403).json({ error: 'Voyage non encore effectuÃ©' });
}
// 3. VÃ©rification dÃ©lai (< 7 jours aprÃ¨s)
const daysSinceTravel = Math.floor(
(Date.now() - new Date(b.travel_date)) / (1000 * 60 * 60 * 24)
);
if (daysSinceTravel > 7) {
return res.status(403).json({ error: 'DÃ©lai notation dÃ©passÃ© (7 jours)'
});
}

// 4. VÃ©rification pas dÃ©jÃ  notÃ©
const existingRating = await db.query(
'SELECT * FROM ratings WHERE booking_id = $1',
[booking_id]
);
if (existingRating.rows.length) {
return res.status(409).json({ error: 'Trajet dÃ©jÃ  notÃ©' });
}
// 5. Validation notes (1-5)
if (rating < 1 || rating > 5) {
return res.status(400).json({ error: 'Note invalide (1-5)' });
}
// 6. Insertion notation
await db.query( INSERT INTO ratings ( booking_id, user_id,
company_id, line_id, rating, punctuality_rating, comfort_rating,
staff_rating, cleanliness_rating, comment, is_verified ) VALUES ($1,
$2, $3, $4, $5, $6, $7, $8, $9, $10, true) , [
booking_id, userId, b.company_id, b.line_id,
rating, punctuality_rating, comfort_rating, staff_rating,
cleanliness_rating,
comment
]);
// 7. Recalcul note moyenne compagnie
const avgRating = await db.query( SELECT AVG(rating) as average,
COUNT(*) as total FROM ratings WHERE company_id = $1 ,
[b.company_id]);
await db.query( UPDATE companies SET rating_average = $1,
total_ratings = $2 WHERE id = $3 , [
Math.round(avgRating.rows[0].average * 10) / 10, // Arrondi 1
dÃ©cimale
avgRating.rows[0].total,
b.company_id
]);
// 8. Attribution points fidÃ©litÃ©
await db.query( INSERT INTO loyalty_transactions ( user_id,

booking_id, points_earned, transaction_type, description ) VALUES
($1, $2, 50, 'rating', 'Notation trajet') , [userId, booking_id]);
await db.query( UPDATE users SET loyalty_points = loyalty_points +
50 WHERE id = $1 , [userId]);
res.json({
success: true,
message: 'Merci pour votre notation ! +50 points fidÃ©litÃ©'
});
});

API Endpoint: GET /companies/:slug/ratings
router.get('/companies/:slug/ratings', async (req, res) => {
const { slug } = req.params;
const page = parseInt(req.query.page) || 1;
const limit = 20;
const offset = (page - 1) * limit;
// RÃ©cupÃ©ration company
const company = await db.query('SELECT * FROM companies WHERE
slug = $1', [slug]);
if (!company.rows.length) {
return res.status(404).json({ error: 'Compagnie introuvable' });
}
const companyId = company.rows[0].id;
// RÃ©cupÃ©ration notations (paginÃ©es, triÃ©es rÃ©centes d'abord)
const ratings = await db.query( SELECT r.*, u.first_name, l.line_name,
b.travel_date FROM ratings r JOIN users u ON r.user_id = u.id JOIN
lines l ON r.line_id = l.id JOIN bookings b ON r.booking_id = b.id
WHERE r.company_id = $1 AND r.is_verified = true ORDER BY
r.created_at DESC LIMIT $2 OFFSET $3 , [companyId, limit, offset]);
// Statistiques notations
const stats = await db.query( SELECT AVG(rating) as avg_rating,
AVG(punctuality_rating) as avg_punctuality, AVG(comfort_rating) as
avg_comfort, AVG(staff_rating) as avg_staff, AVG(cleanliness_rating)
as avg_cleanliness, COUNT(*) as total_ratings, COUNT(*) FILTER

(WHERE rating = 5) as five_stars, COUNT(*) FILTER (WHERE rating =
4) as four_stars, COUNT(*) FILTER (WHERE rating = 3) as three_stars,
COUNT(*) FILTER (WHERE rating = 2) as two_stars, COUNT(*) FILTER
(WHERE rating = 1) as one_star FROM ratings WHERE company_id =
$1 AND is_verified = true , [companyId]);
res.json({
company: company.rows[0],
ratings: ratings.rows,
stats: stats.rows[0],
pagination: {
page,
limit,
has_more: ratings.rows.length === limit
}
});
});

7.4 Affichage Notations
Ã‰cran compagnie (ex: TSR) :
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TSR Transport â˜…â˜…â˜…â˜†â˜†â”‚
â”‚ 3.2/5 â”‚
â”‚ 487 avis vÃ©rifiÃ©s â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ DÃ©tail notations : â”‚
â”‚ â€¢ PonctualitÃ© â˜…â˜…â˜…â˜†â˜† 3.0 â”‚
â”‚ â€¢ Confort â˜…â˜…â˜…â˜†â˜† 3.2 â”‚
â”‚ â€¢ Personnel â˜…â˜…â˜…â˜…â˜† 3.8 â”‚
â”‚ â€¢ PropretÃ© â˜…â˜…â˜…â˜†â˜† 2.9 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ RÃ©partition : â”‚
â”‚ â˜…â˜…â˜…â˜…â˜… â–“â–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 25% (122) â”‚
â”‚ â˜…â˜…â˜…â˜…â˜† â–“â–“â–“â–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘ 35% (170) â”‚
â”‚ â˜…â˜…â˜…â˜†â˜† â–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 22% (107) â”‚
â”‚ â˜…â˜…â˜†â˜†â˜† â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 12% (58) â”‚
â”‚ â˜…â˜†â˜†â˜†â˜† â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 6% (30) â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤

â”‚ Derniers avis : â”‚
â”‚ â˜…â˜…â˜…â˜…â˜† Fatima D. â€¢ 2 jours â”‚
â”‚ "Bus ponctuel, AC marche bien" â”‚
â”‚ Trajet : Ouaga-Bobo | 18 fÃ©v 2026 â”‚
â”‚â”‚
â”‚ â˜…â˜…â˜†â˜†â˜† Mamadou K. â€¢ 5 jours â”‚
â”‚ "Retard 1h30, siÃ¨ge inconfortable" â”‚
â”‚ Trajet : Ouaga-Fada | 15 fÃ©v 2026 â”‚
â”‚â”‚
â”‚ [Voir tous les 487 avis] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

8. SpÃ©cifications API Backend
8.1 Architecture Microservices
Services indÃ©pendants :
Service
Auth Service
Booking Service
Payment Service
Rating Service
Notification Service
Loyalty Service

ResponsabilitÃ©
WhatsApp OTP, JWT tokens
Recherche, rÃ©servation, gestion bookings
IntÃ©gration Yenga Pay, webhooks
Notations vÃ©rifiÃ©es, stats compagnies
WhatsApp, Push, Email
Points fidÃ©litÃ©, rÃ©compenses

8.2 Endpoints Principaux
Authentication
POST /api/v1/auth/request-otp
Body: { phone: "+22670123456" }
Response: { success: true, message: "Code envoyÃ©" }
POST /api/v1/auth/verify-otp
Body: { phone: "+22670123456", otp: "123456" }

Response: { token: "jwt_token", user: {...} }
GET /api/v1/auth/me
Headers: Authorization: Bearer {token}
Response: { user: {...} }

Companies & Lines
GET /api/v1/companies
Query: ?type=urban|interurban
Response: { companies: [...] }
GET /api/v1/companies/:slug
Response: { company: {...}, lines: [...] }
GET /api/v1/companies/:slug/ratings
Query: ?page=1
Response: { ratings: [...], stats: {...} }
GET /api/v1/lines
Query: ?origin=Ouagadougou&destination=Bobo-Dioulasso
Response: { lines: [...] }
GET /api/v1/lines/:id/schedules
Query: ?date=2026-02-25
Response: { schedules: [...] }

Bookings
POST /api/v1/bookings/search
Body: {
origin: "Ouagadougou",
destination: "Bobo-Dioulasso",
date: "2026-03-01",
passengers: 1
}
Response: { results: [{
company: {...},
line: {...},
schedules: [...],
prices: {...}
}] }

POST /api/v1/bookings/create
Body: {
line_id: "uuid",
travel_date: "2026-03-01",
departure_time: "14:00",
passenger_name: "Diallo Fatima",
passenger_phone: "+22670123456",
luggage_weight_kg: 20,
payment_method: "orange_money_bf"
}
Response: {
booking_code: "12345678",
payment_url: "...",
total_amount: 5000
}
GET /api/v1/bookings/my-bookings
Query: ?status=upcoming|past
Response: { bookings: [...] }
GET /api/v1/bookings/:booking_code
Response: { booking: {...} }
POST /api/v1/bookings/:booking_code/cancel
Response: { success: true, refund_amount: 4000 }

Ratings
POST /api/v1/ratings/create
Body: {
booking_id: "uuid",
rating: 4,
punctuality_rating: 4,
comfort_rating: 4,
staff_rating: 5,
cleanliness_rating: 3,
comment: "Bon voyage"
}
Response: { success: true, loyalty_points_earned: 50 }

GET /api/v1/ratings/eligible
Response: { bookings: [...] } // Bookings notables

Loyalty
GET /api/v1/loyalty/balance
Response: { points: 350, tier: "silver" }
GET /api/v1/loyalty/transactions
Response: { transactions: [...] }
POST /api/v1/loyalty/redeem
Body: { points: 500, reward_id: "free_trip" }
Response: { success: true, voucher_code: "FREE500" }

8.3 Webhooks
POST /api/v1/webhooks/yenga-callback
Headers: X-Yenga-Signature
Body: { order_id, status, transaction_id }
Response: { success: true }
POST /api/v1/webhooks/whatsapp-status
Body: { message_id, status: "delivered" }
Response: { success: true }

9. Application Mobile Flutter
9.1 Structure Projet
ankata_passagers/
â”œâ”€â”€ lib/
â”‚ â”œâ”€â”€ main.dart
â”‚ â”œâ”€â”€ app.dart
â”‚ â”œâ”€â”€ config/
â”‚ â”‚ â”œâ”€â”€ routes.dart
â”‚ â”‚ â”œâ”€â”€ theme.dart
â”‚ â”‚ â””â”€â”€ constants.dart
â”‚ â”œâ”€â”€ core/

â”‚ â”‚ â”œâ”€â”€ api/
â”‚ â”‚ â”‚ â”œâ”€â”€ api_client.dart
â”‚ â”‚ â”‚ â””â”€â”€ endpoints.dart
â”‚ â”‚ â”œâ”€â”€ storage/
â”‚ â”‚ â”‚ â””â”€â”€ secure_storage.dart
â”‚ â”‚ â””â”€â”€ utils/
â”‚ â”‚ â”œâ”€â”€ validators.dart
â”‚ â”‚ â””â”€â”€ formatters.dart
â”‚ â”œâ”€â”€ models/
â”‚ â”‚ â”œâ”€â”€ user.dart
â”‚ â”‚ â”œâ”€â”€ company.dart
â”‚ â”‚ â”œâ”€â”€ line.dart
â”‚ â”‚ â”œâ”€â”€ booking.dart
â”‚ â”‚ â””â”€â”€ rating.dart
â”‚ â”œâ”€â”€ providers/
â”‚ â”‚ â”œâ”€â”€ auth_provider.dart
â”‚ â”‚ â”œâ”€â”€ booking_provider.dart
â”‚ â”‚ â””â”€â”€ user_provider.dart
â”‚ â”œâ”€â”€ screens/
â”‚ â”‚ â”œâ”€â”€ auth/
â”‚ â”‚ â”‚ â”œâ”€â”€ phone_auth_screen.dart
â”‚ â”‚ â”‚ â””â”€â”€ otp_verify_screen.dart
â”‚ â”‚ â”œâ”€â”€ home/
â”‚ â”‚ â”‚ â”œâ”€â”€ home_screen.dart
â”‚ â”‚ â”‚ â””â”€â”€ search_screen.dart
â”‚ â”‚ â”œâ”€â”€ companies/
â”‚ â”‚ â”‚ â”œâ”€â”€ company_list_screen.dart
â”‚ â”‚ â”‚ â””â”€â”€ company_detail_screen.dart
â”‚ â”‚ â”œâ”€â”€ bookings/
â”‚ â”‚ â”‚ â”œâ”€â”€ booking_flow_screen.dart
â”‚ â”‚ â”‚ â”œâ”€â”€ my_bookings_screen.dart
â”‚ â”‚ â”‚ â””â”€â”€ booking_detail_screen.dart
â”‚ â”‚ â”œâ”€â”€ payment/
â”‚ â”‚ â”‚ â””â”€â”€ payment_screen.dart
â”‚ â”‚ â”œâ”€â”€ ratings/
â”‚ â”‚ â”‚ â””â”€â”€ rating_screen.dart
â”‚ â”‚ â””â”€â”€ profile/
â”‚ â”‚ â”œâ”€â”€ profile_screen.dart
â”‚ â”‚ â””â”€â”€ loyalty_screen.dart

â”‚ â””â”€â”€ widgets/
â”‚ â”œâ”€â”€ company_card.dart
â”‚ â”œâ”€â”€ trip_card.dart
â”‚ â””â”€â”€ rating_stars.dart
â”œâ”€â”€ android/
â”œâ”€â”€ ios/
â””â”€â”€ pubspec.yaml

9.2 Dependencies (pubspec.yaml)
dependencies:
flutter:
sdk: flutter

State management
provider: ^6.1.1

HTTP client
dio: ^5.4.0

Storage
flutter_secure_storage: ^9.0.0
hive: ^2.2.3
hive_flutter: ^1.1.0

UI
google_fonts: ^6.1.0
flutter_svg: ^2.0.9
cached_network_image: ^3.3.1
shimmer: ^3.0.0

Maps
mapbox_gl: ^0.16.0

Localization
intl: ^0.18.1

Push notifications
firebase_core: ^2.24.2
firebase_messaging: ^14.7.9

Utils
url_launcher: ^6.2.2
share_plus: ^7.2.1
qr_flutter: ^4.1.0

9.3 Screens ClÃ©s
Home Screen
// lib/screens/home/home_screen.dart
import 'package:flutter/material.dart';
import 'package:provider/provider.dart';
class HomeScreen extends StatelessWidget {
@override
Widget build(BuildContext context) {
return Scaffold(
appBar: AppBar(
title: Text('Ankata', style: GoogleFonts.poppins(fontWeight:
FontWeight.bold)),
actions: [
IconButton(
icon: Icon(Icons.notifications),

onPressed: () => Navigator.pushNamed(context, '/notifications'),
),
],
),
body: SingleChildScrollView(
child: Column(
children: [
// Search card
SearchCard(),
// Popular routes
SectionHeader(title: 'Trajets populaires'),
PopularRoutes(),
// Companies
SectionHeader(title: 'Compagnies', action: 'Voir tout'),
CompaniesCarousel(),
// Recent bookings
if (hasRecentBookings)
SectionHeader(title: 'Mes derniers trajets'),
RecentBookings(),
],
),
),
bottomNavigationBar: BottomNavBar(currentIndex: 0),
);

}
}
class SearchCard extends StatelessWidget {
@override
Widget build(BuildContext context) {
return Container(
margin: EdgeInsets.all(16),
padding: EdgeInsets.all(20),
decoration: BoxDecoration(

gradient: LinearGradient(
colors: [Color(0xFF00A859), Color(0xFF008844)],
),
borderRadius: BorderRadius.circular(16),
boxShadow: [
BoxShadow(
color: Colors.black12,
blurRadius: 10,
offset: Offset(0, 5),
),
],
),
child: Column(
children: [
TextField(
decoration: InputDecoration(
hintText: 'D'oÃ¹ partez-vous ?',
prefixIcon: Icon(Icons.location_on),
filled: true,
fillColor: Colors.white,
border: OutlineInputBorder(
borderRadius: BorderRadius.circular(12),
borderSide: BorderSide.none,
),
),
onTap: () => Navigator.pushNamed(context, '/search'),
readOnly: true,
),
SizedBox(height: 12),
TextField(
decoration: InputDecoration(
hintText: 'OÃ¹ allez-vous ?',
prefixIcon: Icon(Icons.place),
filled: true,
fillColor: Colors.white,
border: OutlineInputBorder(
borderRadius: BorderRadius.circular(12),
borderSide: BorderSide.none,
),

),
onTap: () => Navigator.pushNamed(context, '/search'),
readOnly: true,
),
SizedBox(height: 16),
ElevatedButton(
onPressed: () => Navigator.pushNamed(context, '/search'),
child: Text('Rechercher des trajets'),
style: ElevatedButton.styleFrom(
backgroundColor: Colors.white,
foregroundColor: Color(0xFF00A859),
minimumSize: Size(double.infinity, 50),
shape: RoundedRectangleBorder(
borderRadius: BorderRadius.circular(12),
),
),
),
],
),
);
}
}

Company Detail Screen
// lib/screens/companies/company_detail_screen.dart
class CompanyDetailScreen extends StatelessWidget {
final Company company;
@override
Widget build(BuildContext context) {
return Scaffold(
appBar: AppBar(
title: Text(company.name),
backgroundColor: HexColor(company.primaryColor),
),
body: SingleChildScrollView(
child: Column(
children: [
// Header avec logo et stats

Container(
color: HexColor(company.primaryColor),
padding: EdgeInsets.all(20),
child: Column(
children: [
CircleAvatar(
radius: 50,
backgroundImage: NetworkImage(company.logoUrl),
),
SizedBox(height: 16),
Row(
mainAxisAlignment: MainAxisAlignment.center,
children: [
RatingStars(rating: company.ratingAverage),
SizedBox(width: 8),
Text(
'
{company.totalRatings} avis vÃ©rifiÃ©s',
style: TextStyle(color: Colors.white70),
),
],
),
),
// Description
Padding(
padding: EdgeInsets.all(16),
child: Text(company.description),
),
// Destinations
SectionHeader(title: 'Destinations'),
LinesListView(companyId: company.id),
// Ratings
SectionHeader(title: 'Avis passagers', action: 'Voir tout'),
RatingsListView(companyId: company.id, limit: 3),

// Contact
SectionHeader(title: 'Contact'),
ContactInfo(company: company),
],
),
),
);

}
}

Booking Flow Screen
// lib/screens/bookings/booking_flow_screen.dart
class BookingFlowScreen extends StatefulWidget {
final Line line;
final Schedule schedule;
@override
_BookingFlowScreenState createState() =>
_BookingFlowScreenState();
}
class _BookingFlowScreenState extends State<BookingFlowScreen> {
int currentStep = 0;
String passengerName = '';
String passengerPhone = '';
int luggageWeight = 0;
String paymentMethod = 'orange_money_bf';
@override
Widget build(BuildContext context) {
return Scaffold(
appBar: AppBar(title: Text('RÃ©servation')),
body: Stepper(
currentStep: currentStep,
onStepContinue: () {
if (currentStep < 2) {

setState(() => currentStep++);
} else {
_processBooking();
}
},
onStepCancel: () {
if (currentStep > 0) {
setState(() => currentStep--);
}
},
steps: [
// Step 1: Infos passager
Step(
title: Text('Informations passager'),
content: Column(
children: [
TextField(
decoration: InputDecoration(labelText: 'Nom complet'),
onChanged: (value) => passengerName = value,
),
TextField(
decoration: InputDecoration(labelText: 'TÃ©lÃ©phone'),
onChanged: (value) => passengerPhone = value,
),
],
),
isActive: currentStep >= 0,
),
// Step 2: Bagages
Step(
title: Text('Bagages'),
content: Column(
children: [
Text('Poids bagages (kg)'),
Slider(
value: luggageWeight.toDouble(),
min: 0,
max: 50,

divisions: 10,
label: '$luggageWeight kg',
onChanged: (value) => setState(() => luggageWeight = value.toInt()),
),
Text('SupplÃ©ment: ${luggageWeight * widget.line.luggagePricePerKg} F
],
),
isActive: currentStep >= 1,
),
// Step 3: Paiement
Step(
title: Text('Paiement'),
content: Column(
children: [
RadioListTile(
title: Text('Orange Money'),
value: 'orange_money_bf',
groupValue: paymentMethod,
onChanged: (value) => setState(() => paymentMethod = value!),
),
RadioListTile(
title: Text('Moov Money'),
value: 'moov_money_bf',
groupValue: paymentMethod,
onChanged: (value) => setState(() => paymentMethod = value!),
),
Divider(),
_buildPriceSummary(),
],
),
isActive: currentStep >= 2,
),
],
),
);

}

Widget _buildPriceSummary() {
final baseFare = widget.line.basePrice;
final luggageFee = luggageWeight * widget.line.luggagePricePerKg;
final total = baseFare + luggageFee;
return Card(
child: Padding(
padding: EdgeInsets.all(16),
child: Column(
children: [
Row(
mainAxisAlignment: MainAxisAlignment.spaceBetween,
children: [
Text('Billet'),
Text('$baseFare FCFA'),
],
),
Row(
mainAxisAlignment: MainAxisAlignment.spaceBetween,
children: [
Text('Bagages ($luggageWeight kg)'),
Text('$luggageFee FCFA'),
],
),
Divider(),
Row(
mainAxisAlignment: MainAxisAlignment.spaceBetween,
children: [
Text('Total', style: TextStyle(fontWeight: FontWeight.bold, fontSize: 18)
Text('$total FCFA', style: TextStyle(fontWeight: FontWeight.bold, fontSi
],
),
],
),
),
);

}
Future<void> _processBooking() async {
// Show loading
showDialog(
context: context,
barrierDismissible: false,
builder: (context) => Center(child: CircularProgressIndicator()),
);
try {
final bookingProvider = Provider.of<BookingProvider>(context, listen: false
final result = await bookingProvider.createBooking(
lineId: widget.line.id,
travelDate: widget.schedule.date,
departureTime: widget.schedule.departureTime,
passengerName: passengerName,
passengerPhone: passengerPhone,
luggageWeightKg: luggageWeight,
paymentMethod: paymentMethod,
);
Navigator.pop(context); // Close loading
// Navigate to payment
Navigator.pushNamed(
context,
'/payment',
arguments: {
'booking_code': result['booking_code'],
'payment_url': result['payment_url'],
},
);
} catch (error) {
Navigator.pop(context); // Close loading

ScaffoldMessenger.of(context).showSnackBar(
SnackBar(content: Text('Erreur: $error')),
);
}

}
}

9.4 State Management (Provider)
// lib/providers/booking_provider.dart
import 'package:flutter/foundation.dart';
import '../core/api/api_client.dart';
class BookingProvider with ChangeNotifier {
final ApiClient _api;
List<Booking> _upcomingBookings = [];
List<Booking> _pastBookings = [];
bool _isLoading = false;
BookingProvider(this._api);
List<Booking> get upcomingBookings => _upcomingBookings;
List<Booking> get pastBookings => _pastBookings;
bool get isLoading => _isLoading;
Future<Map<String, dynamic>> createBooking({
required String lineId,
required String travelDate,
required String departureTime,
required String passengerName,
required String passengerPhone,
required int luggageWeightKg,
required String paymentMethod,
}) async {
final response = await _api.post('/bookings/create', data: {
'line_id': lineId,
'travel_date': travelDate,
'departure_time': departureTime,

'passenger_name': passengerName,
'passenger_phone': passengerPhone,
'luggage_weight_kg': luggageWeightKg,
'payment_method': paymentMethod,
});
return response.data;

}
Future<void> fetchMyBookings() async {
_isLoading = true;
notifyListeners();
try {
final upcomingResponse = await _api.get('/bookings/my-bookings?status=up
final pastResponse = await _api.get('/bookings/my-bookings?status=past');
_upcomingBookings = (upcomingResponse.data['bookings'] as List)
.map((json) => Booking.fromJson(json))
.toList();
_pastBookings = (pastResponse.data['bookings'] as List)
.map((json) => Booking.fromJson(json))
.toList();
} finally {
_isLoading = false;
notifyListeners();
}

}
Future<void> cancelBooking(String bookingCode) async {
await _api.post('/bookings/$bookingCode/cancel');
await fetchMyBookings(); // Refresh list
}
}

10. Seed Database Production
10.1 Script SQL Complet
-- =====================================================
-- ANKATA APP PASSAGERS - SEED DATABASE
-- =====================================================
-- Nettoyage
TRUNCATE TABLE ratings, bookings, schedules, stops, lines,
companies, users CASCADE;
-- =====================================================
-- COMPANIES
-- =====================================================
INSERT INTO companies (name, slug, description, logo_url,
primary_color, secondary_color, phone, whatsapp, facebook_url,
headquarters_address, is_active) VALUES
('SOTRACO', 'sotraco', 'SociÃ©tÃ© de Transport en Commun - Leader
transport urbain Ouagadougou avec 455 bus modernes', 'https://anka
ta-assets.s3.amazonaws.com/logos/sotraco.png', '#00A859', '#FFFFFF',
'+22625446666', '+22670000001', '
https://facebook.com/SOTRACO.officiel', 'Avenue Charles de Gaulle,
Ouagadougou', true),
('TSR Transport', 'tsr-transport', 'Transport Sana Rasmane - Prix
compÃ©titifs transport interurbain', 'https://ankata-assets.s3.amazona
ws.com/logos/tsr.png', '#1E90FF', '#00C853', '+22625378020', NULL,
NULL, 'Gare routiÃ¨re Ouaga 2000', true),
('STAF Transport', 'staf-transport', 'Transport interurbain fiable basÃ©
Ã  Bobo-Dioulasso avec bus rÃ©cents', 'https://ankata-assets.s3.amazona
ws.com/logos/staf.png', '#FF6B00', '#003366', '+22620971555', NULL,
NULL, 'Avenue de la RÃ©publique, Bobo-Dioulasso', true),
('RAHIMO Transports', 'rahimo-transports', 'Transport premium G8 Confort et ponctualitÃ© garantis', 'https://ankata-assets.s3.amazonaws.

com/logos/rahimo.png', '#DC143C', '#FFD700', '+22625379900',
'+22670202020', NULL, 'Gare Ouaga 2000, Section VIP', true),
('RAKIETA Transport', 'rakieta-transport', 'Transport rapide et
ponctuel - Rapide comme une fusÃ©e', 'https://ankata-assets.s3.amazon
aws.com/logos/rakieta.png', '#8B0000', '#FFD700', '+22625376677',
'+22670101010', NULL, 'Gare routiÃ¨re Ouaga 2000', true),
('TCV Transport', 'tcv-transport', 'Transport Confort Voyageur - Milieu
de gamme', 'https://ankata-assets.s3.amazonaws.com/logos/tcv.png',
'#006400', '#FFD700', '+22625375544', NULL, NULL, 'Gare routiÃ¨re
Ouaga 2000', true);
-- =====================================================
-- LINES
-- =====================================================
-- SOTRACO (lignes urbaines)
INSERT INTO lines (company_id, line_code, line_name, origin_city,
destination_city, distance_km, duration_minutes, line_type,
base_price, student_price, child_price) VALUES
((SELECT id FROM companies WHERE slug = 'sotraco'), 'L2B', 'Balkuy Naaba Koom', 'Ouagadougou', 'Ouagadougou', 18, 50, 'urban', 150,
120, 100),
((SELECT id FROM companies WHERE slug = 'sotraco'), 'L3',
'Bissisghin - Zones Ã‰coles', 'Ouagadougou', 'Ouagadougou', 15, 45,
'urban', 150, 120, 100),
((SELECT id FROM companies WHERE slug = 'sotraco'), 'L4', 'Sandogo
II - Zones Ã‰coles', 'Ouagadougou', 'Ouagadougou', 16, 48, 'urban', 150,
120, 100),
((SELECT id FROM companies WHERE slug = 'sotraco'), 'L10',
'Tengandogo - Zones Ã‰coles', 'Ouagadougou', 'Ouagadougou', 19, 55,
'urban', 150, 120, 100);
-- TSR
INSERT INTO lines (company_id, line_code, line_name, origin_city,
destination_city, distance_km, duration_minutes, line_type,
base_price, luggage_price_per_kg) VALUES
((SELECT id FROM companies WHERE slug = 'tsr-transport'), 'TSR-OB',
'Ouagadougou - Bobo-Dioulasso', 'Ouagadougou', 'Bobo-Dioulasso',
360, 330, 'interurban', 4500, 20),

((SELECT id FROM companies WHERE slug = 'tsr-transport'), 'TSR-OF',
'Ouagadougou - Fada N'Gourma', 'Ouagadougou', 'Fada N'Gourma',
450, 420, 'interurban', 5500, 28),
((SELECT id FROM companies WHERE slug = 'tsr-transport'), 'TSR-OD',
'Ouagadougou - DÃ©dougou', 'Ouagadougou', 'DÃ©dougou', 230, 210,
'interurban', 3500, 16);
-- STAF
INSERT INTO lines (company_id, line_code, line_name, origin_city,
destination_city, distance_km, duration_minutes, line_type,
base_price, luggage_price_per_kg) VALUES
((SELECT id FROM companies WHERE slug = 'staf-transport'), 'STAFOB', 'Ouagadougou - Bobo-Dioulasso', 'Ouagadougou', 'BoboDioulasso', 360, 320, 'interurban', 6500, 24),
((SELECT id FROM companies WHERE slug = 'staf-transport'), 'STAFOF', 'Ouagadougou - Fada N'Gourma', 'Ouagadougou', 'Fada
N'Gourma', 450, 400, 'interurban', 6000, 28),
((SELECT id FROM companies WHERE slug = 'staf-transport'), 'STAFOG', 'Ouagadougou - Gaoua', 'Ouagadougou', 'Gaoua', 520, 510,
'interurban', 8500, 40),
((SELECT id FROM companies WHERE slug = 'staf-transport'), 'STAFBB', 'Bobo-Dioulasso - Banfora', 'Bobo-Dioulasso', 'Banfora', 85, 90,
'interurban', 2500, 12);
-- RAHIMO
INSERT INTO lines (company_id, line_code, line_name, origin_city,
destination_city, distance_km, duration_minutes, line_type,
base_price, luggage_price_per_kg) VALUES
((SELECT id FROM companies WHERE slug = 'rahimo-transports'),
'RAHIMO-OB', 'Ouagadougou - Bobo-Dioulasso', 'Ouagadougou',
'Bobo-Dioulasso', 360, 310, 'interurban', 6500, 0),
((SELECT id FROM companies WHERE slug = 'rahimo-transports'),
'RAHIMO-OB-VIP', 'Ouagadougou - Bobo-Dioulasso VIP',
'Ouagadougou', 'Bobo-Dioulasso', 360, 300, 'interurban', 8000, 0),
((SELECT id FROM companies WHERE slug = 'rahimo-transports'),
'RAHIMO-OA', 'Ouagadougou - Abidjan', 'Ouagadougou', 'Abidjan',
1150, 1100, 'international', 15000, 0),
((SELECT id FROM companies WHERE slug = 'rahimo-transports'),
'RAHIMO-OL', 'Ouagadougou - LomÃ©', 'Ouagadougou', 'LomÃ©', 980,
960, 'international', 12000, 0),

((SELECT id FROM companies WHERE slug = 'rahimo-transports'),
'RAHIMO-BS', 'Bobo-Dioulasso - Sikasso', 'Bobo-Dioulasso', 'Sikasso',
180, 210, 'international', 5500, 0);
-- RAKIETA
INSERT INTO lines (company_id, line_code, line_name, origin_city,
destination_city, distance_km, duration_minutes, line_type,
base_price, luggage_price_per_kg) VALUES
((SELECT id FROM companies WHERE slug = 'rakieta-transport'),
'RAKIETA-OB', 'Ouagadougou - Bobo-Dioulasso', 'Ouagadougou',
'Bobo-Dioulasso', 360, 330, 'interurban', 6000, 20),
((SELECT id FROM companies WHERE slug = 'rakieta-transport'),
'RAKIETA-OL', 'Ouagadougou - LomÃ©', 'Ouagadougou', 'LomÃ©', 980,
960, 'international', 11000, 33),
((SELECT id FROM companies WHERE slug = 'rakieta-transport'),
'RAKIETA-ON', 'Ouagadougou - Niamey', 'Ouagadougou', 'Niamey',
520, 510, 'international', 7500, 32);
-- TCV
INSERT INTO lines (company_id, line_code, line_name, origin_city,
destination_city, distance_km, duration_minutes, line_type,
base_price, luggage_price_per_kg) VALUES
((SELECT id FROM companies WHERE slug = 'tcv-transport'), 'TCV-OB',
'Ouagadougou - Bobo-Dioulasso', 'Ouagadougou', 'Bobo-Dioulasso',
360, 340, 'interurban', 5500, 22),
((SELECT id FROM companies WHERE slug = 'tcv-transport'), 'TCVOD', 'Ouagadougou - Dori', 'Ouagadougou', 'Dori', 280, 270,
'interurban', 4500, 18);
-- =====================================================
-- SCHEDULES (Exemples)
-- =====================================================
-- SOTRACO L2B (tous les jours)
INSERT INTO schedules (line_id, departure_time, days_of_week,
total_seats, available_seats, valid_from, valid_until) VALUES
((SELECT id FROM lines WHERE line_code = 'L2B'), '05:45',
'{1,2,3,4,5,6,7}', 60, 60, '2026-01-01', '2026-12-31'),
((SELECT id FROM lines WHERE line_code = 'L2B'), '06:00',
'{1,2,3,4,5,6,7}', 60, 60, '2026-01-01', '2026-12-31'),

((SELECT id FROM lines WHERE line_code = 'L2B'), '06:15',
'{1,2,3,4,5,6,7}', 60, 60, '2026-01-01', '2026-12-31');
-- TSR Ouaga-Bobo (tous les jours, 6 dÃ©parts)
INSERT INTO schedules (line_id, departure_time, days_of_week,
total_seats, available_seats, valid_from, valid_until) VALUES
((SELECT id FROM lines WHERE line_code = 'TSR-OB'), '06:00',
'{1,2,3,4,5,6,7}', 70, 70, '2026-01-01', '2026-12-31'),
((SELECT id FROM lines WHERE line_code = 'TSR-OB'), '07:00',
'{1,2,3,4,5,6,7}', 70, 70, '2026-01-01', '2026-12-31'),
((SELECT id FROM lines WHERE line_code = 'TSR-OB'), '10:00',
'{1,2,3,4,5,6,7}', 70, 70, '2026-01-01', '2026-12-31'),
((SELECT id FROM lines WHERE line_code = 'TSR-OB'), '14:00',
'{1,2,3,4,5,6,7}', 70, 70, '2026-01-01', '2026-12-31'),
((SELECT id FROM lines WHERE line_code = 'TSR-OB'), '17:00',
'{1,2,3,4,5,6,7}', 70, 70, '2026-01-01', '2026-12-31'),
((SELECT id FROM lines WHERE line_code = 'TSR-OB'), '23:30',
'{1,2,3,4,5,6,7}', 70, 70, '2026-01-01', '2026-12-31');
-- RAHIMO Ouaga-Bobo (5 dÃ©parts fixes)
INSERT INTO schedules (line_id, departure_time, days_of_week,
total_seats, available_seats, valid_from, valid_until) VALUES
((SELECT id FROM lines WHERE line_code = 'RAHIMO-OB'), '07:30',
'{1,2,3,4,5,6,7}', 52, 52, '2026-01-01', '2026-12-31'),
((SELECT id FROM lines WHERE line_code = 'RAHIMO-OB'), '10:00',
'{1,2,3,4,5,6,7}', 52, 52, '2026-01-01', '2026-12-31'),
((SELECT id FROM lines WHERE line_code = 'RAHIMO-OB'), '14:30',
'{1,2,3,4,5,6,7}', 52, 52, '2026-01-01', '2026-12-31'),
((SELECT id FROM lines WHERE line_code = 'RAHIMO-OB'), '18:30',
'{1,2,3,4,5,6,7}', 52, 52, '2026-01-01', '2026-12-31'),
((SELECT id FROM lines WHERE line_code = 'RAHIMO-OB'), '23:30',
'{1,2,3,4,5,6,7}', 52, 52, '2026-01-01', '2026-12-31');
-- =====================================================
-- RATINGS INITIALES (pour stats)
-- =====================================================
-- TSR ratings (moyenne 3.2/5)
INSERT INTO ratings (company_id, line_id, rating, punctuality_rating,
comfort_rating, staff_rating, cleanliness_rating, comment, is_verified)

VALUES
((SELECT id FROM companies WHERE slug = 'tsr-transport'), (SELECT
id FROM lines WHERE line_code = 'TSR-OB'), 3, 3, 3, 4, 3, 'Prix
abordable mais vieux bus', true),
((SELECT id FROM companies WHERE slug = 'tsr-transport'), (SELECT
id FROM lines WHERE line_code = 'TSR-OB'), 4, 4, 4, 4, 3, 'Correct pour
le prix', true),
((SELECT id FROM companies WHERE slug = 'tsr-transport'), (SELECT
id FROM lines WHERE line_code = 'TSR-OB'), 2, 2, 2, 3, 2, 'Retard 1h30,
AC cassÃ©e', true);
-- Update TSR rating average
UPDATE companies
SET rating_average = 3.2, total_ratings = 487
WHERE slug = 'tsr-transport';
-- STAF ratings (moyenne 4.1/5)
UPDATE companies
SET rating_average = 4.1, total_ratings = 1203
WHERE slug = 'staf-transport';
-- RAHIMO ratings (moyenne 4.6/5)
UPDATE companies
SET rating_average = 4.6, total_ratings = 892
WHERE slug = 'rahimo-transports';
-- RAKIETA ratings (moyenne 4.3/5)
UPDATE companies
SET rating_average = 4.3, total_ratings = 324
WHERE slug = 'rakieta-transport';
-- =====================================================
-- SEED COMPLETE
-- =====================================================
SELECT 'Seed database completed!' as status;

11. Roadmap MVP
11.1 Sprint 1 : Foundation (Semaines 1-2)
Backend :

Setup Supabase + PostgreSQL
Seed database (companies, lines, schedules)
API auth WhatsApp OTP (request + verify)
API search lines (origin, destination)
Mobile :

Setup Flutter projet (structure)
Screens : Splash, Onboarding, Phone Auth, OTP Verify
Navigation routing (go_router)
Theme Ankata (couleurs, fonts)
DevOps :

GitHub repo + CI/CD
Environnements : Dev, Staging, Prod

11.2 Sprint 2 : Search & Discovery
(Semaines 3-4)
Backend :

API search trips (date, passengers)
API company details + ratings
API line details
Mobile :

Home screen (search form)
Search results screen
Company detail screen
Trip details screen
Mapbox integration

11.3 Sprint 3 : Booking & Payment
(Semaines 5-6)
Backend :

API create booking
Yenga Pay integration
WhatsApp notifications
Mobile :

Booking flow (3 steps)
Payment screen
Booking confirmation
My bookings list

11.4 Sprint 4 : Ratings & Profile (Semaines
7-8)
Backend :

API create rating (verified)
API user profile
Loyalty points system
Mobile :

Rating screen
Company ratings view
User profile
Settings

11.5 Sprint 5 : Polish & Launch (Semaines 910)
Testing :

Tests unitaires backend
Tests E2E Flutter
Load testing (100 users concurrents)

Launch :

Beta testing 50 users
Google Play Store + App Store submission
Marketing campagne (Facebook ads)
FIN DU DOCUMENT ANKATA APP PASSAGERS v3.0
Contact : dev@axiane.agency
Repository : https://github.com/axiane-agency/ankata-passagers
Licence : PropriÃ©taire Â© Axiane Agency 2026

